<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Productos</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://kit.fontawesome.com/56aef74e76.js" crossorigin="anonymous"></script>
</head>

<header class="container-header">
    <div class="container-logo">
        <h1 class="logo"><img src="/Dashboard dos/imagenes/logo-removebg-preview.png" alt="logo"></h1>
    </div>

    <div class="container-titulo">
        <h1 class="titulo">ADMINISTRADOR</h1>
    </div>

    <div class="container-usuario">
        <label for="usuario-icono">
            <i class="fa-solid fa-user" id="usuario-icono" name="usuario-icono"></i></label>
                <div class="opciones-usuario" id="opciones-usuario">
                    <ul>
                        <div class="li-box">
                            <li><a href="#">Cambiar Contraseña</a></li>
                        </div>
                        <div class="li-box">
                            <li><a href="../Login/Login.html">Cerrar Sesión</a></li>
                        </div>
                    </ul>
                    
                    <script>
                        const usuarioIcono = document.querySelector('label[for="usuario-icono"]');
                        const opcionesUsuario = document.getElementById('opciones-usuario');
                      
                        usuarioIcono.addEventListener('click', (e) => {
                          e.stopPropagation(); // Evitamos que el evento se propague al documento
                          opcionesUsuario.classList.toggle('mostrar'); /* Agregamos o quitamos la clase mostrar */
                        });
                      
                        document.addEventListener('click', (e) => {
                          if (!e.target.closest('.opciones-usuario') &&!e.target.closest('label[for="usuario-icono"]')) { 
                            opcionesUsuario.classList.remove('mostrar'); /* Ocultamos las opciones */
                          }
                        });
                      </script>
                </div>
    </div>
</header>

<body>
    <div class="Admin">

        <div class="container-modulos">    
            <div class="modulos-box-productos">

                <form action="php/productos.php" method="POST" enctype="multipart/form-data">
                    <div class="select-imagen">
                        <div class="drop-zone">
                            <i class="fa-solid fa-arrow-up-from-bracket"></i>
                            <p>Subir una imagen o arrastrar y soltar<br>PNG, JPG, WEBP hasta 5MB</p>
                            <input type="file" id="fileInput" name="imagen" style="display: none;">
                        </div>
                    </div>
                        <script src="script.js"></script>
                            <div class="container-input">

                                <div class="input">
                                    <label for="nombre-producto"><h2>Nombre del Producto</h2>
                                    <input id="nombre-producto" name="nombre-producto" type="text" placeholder="Ingrese el nombre del producto" required></label>
                                </div>

                                <div class="input">
                                    <label for="codigo-producto"><h2>Código del Producto</h2>
                                    <input id="codigo-producto" name="codigo-producto" type="text" placeholder="Ingrese el codigo del producto" required></label>
                                </div>

                                <div class="input">
                                    <label for="descripcion-corta"><h2>Descripcion Corta</h2>
                                    <textarea name="descripcion-corta" id="descripcion-corta" cols="30" rows="10" style="resize: vertical;" placeholder="Ingresa lo mas destacado del producto"></textarea></label>
                                </div>

                                <div class="input">
                                    <label for="descripcion-larga"><h2>Descripcion Larga</h2>
                                    <textarea name="descripcion-larga" id="descripcion-larga" cols="30" rows="10" style="resize: vertical;" placeholder="Ingresa todos los detalles del producto"></textarea></label>
                                </div>

                                <div class="input">
                                    <label for="precio-producto"><h2>Precio del Producto</h2>
                                    <input id="precio-producto" name="precio-producto" type="number" placeholder="Ingresa el precio del producto" required></label>
                                </div>

                                <div class="input">
                                    <label for="status-producto"><h2>Status</h2></label>
                                    <select name="status-producto" id="status-producto" required>
                                        <option value="0">Disponible</option>
                                        <option value="1">Agotado</option>
                                    </select>
                                    </div>
                                
                                <input type="submit" value="AGREGAR PRODUCTO" class="btn-p" name="agregar_producto">
                            </div>
                </form>
            </div>
        </div>
    </div>

<section>
    <div class="lista-productos">
        <div class="product-display">
            <table class="product-display-table">
               <thead>
               <tr>
                  <th>Imagen del producto</th>
                  <th>Nombre del producto</th>
                  <th>Codigo del producto</th>
                  <th>Descripcion corta del producto</th>
                  <th>Descripcion larga del producto</th>
                  <th>Precio del producto</th>
                  <th>Status</th>
                  <th>Acciones</th>
               </tr>
               </thead>
               <tr>
                  <td><img src="uploaded_img/<?php echo $row['image']; ?>" height="100" alt=""></td>
                  <td><?php echo $row['name']; ?></td>
                  <td>$<?php echo $row['price']; ?>/-</td>
                  <td><?php echo $row['name']; ?></td>
                  <td><?php echo $row['name']; ?></td>
                  <td><?php echo $row['name']; ?></td>
                  <td><?php echo $row['name']; ?></td>
                  <td>
                     <a href="admin_update.php?edit=<?php echo $row['id']; ?>" class="btn"> <i class="fas fa-edit"></i></a>
                     <a href="admin_page.php?delete=<?php echo $row['id']; ?>" class="btn"> <i class="fas fa-trash"></i></a>
                  </td>
               </tr>

               <tr>
                  <td><img src="uploaded_img/<?php echo $row['image']; ?>" height="100" alt=""></td>
                  <td><?php echo $row['name']; ?></td>
                  <td>$<?php echo $row['price']; ?>/-</td>
                  <td><?php echo $row['name']; ?></td>
                  <td><?php echo $row['name']; ?></td>
                  <td><?php echo $row['name']; ?></td>
                  <td><?php echo $row['name']; ?></td>
                  <td>
                     <a href="admin_update.php?edit=<?php echo $row['id']; ?>" class="btn"> <i class="fas fa-edit"></i></a>
                     <a href="admin_page.php?delete=<?php echo $row['id']; ?>" class="btn"> <i class="fas fa-trash"></i></a>
                  </td>
               </tr>
            </table>
         </div>
      </div>
    </div>

</section>
</body>
</html>
